(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{84462:function(e,t,r){Promise.resolve().then(r.bind(r,72576))},72576:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return w}});var i=r(57437),a=r(2265),s=r(32604),n=r(84424),o=r(16389),l=r(49606),c=r(38098),u=r(80711),d=r(75562),h=r(57916),f=r(91985),p=r(15857),g=r(50744),x=r(96699),y=r(13185),m=r(13349),j=r(54744),v=()=>{let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(""),{getFilterTagsType:v}=(0,a.useContext)(m.FilesContext),[w,k]=(0,a.useState)({data:"",file_ready:!0}),b=async()=>{k({data:"",file_ready:!1});try{await (0,j.gp)(v(e)),C()}catch(e){e instanceof Error?s(e.message):s("An unexpected error occurred.")}},C=()=>{(0,j.p)().then(e=>{k(e.data)}).catch(e=>{k(e=>({...e,file_ready:!0})),s(e.message)})};return(0,a.useEffect)(()=>{C()},[]),(0,a.useEffect)(()=>{w.file_ready||setTimeout(()=>C(),5e3)}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Stack,{children:[(0,i.jsx)(x.Z,{color:"blue",icon:(0,i.jsx)(p.Z,{}),message:"Please update the files by clicking the   'Update Files' button on the top right   and clicking 'update'."}),(0,i.jsx)(y.Z,{filterMenuDescription:"Select document(s) and/or document type(s) from the list:",filterTags:e,setFilterTags:t}),(0,i.jsxs)(n.Center,{pos:"relative",children:[(0,i.jsx)(l.LoadingOverlay,{visible:!w.file_ready,zIndex:1e3,overlayProps:{radius:"sm",blur:2}}),(0,i.jsx)(c.Tooltip,{label:0===e.length?"Need at least one Tag":"Search Tag(s)",children:(0,i.jsx)(u.Button,{variant:"filled",radius:"xs",disabled:0===e.length,onClick:b,style:{width:"100px"},children:"Search"})})]}),(0,i.jsx)(d.Text,{c:"dimmed",children:w.data}),(0,i.jsx)(x.Z,{color:"red",icon:(0,i.jsx)(g.Z,{}),message:"Do not close the black   screen application window   until you decide to exit the application."})]}),(0,i.jsx)(h.Dialog,{opened:!!r,withCloseButton:!0,onClose:()=>s(""),size:"lg",radius:"md",withBorder:!0,children:(0,i.jsx)(f.Notification,{title:"Search Error",color:"red",onClose:()=>s(""),children:r})})]})},w=()=>(0,i.jsx)(s.Box,{style:{height:"100%"},children:(0,i.jsx)(n.Center,{h:"100%",children:(0,i.jsx)(v,{})})})},13185:function(e,t,r){"use strict";var i=r(57437),a=r(34738),s=r(94970),n=r(75562),o=r(78290),l=r(7238),c=r(84740),u=r(26660),d=r(29433),h=r(2265),f=r(39537),p=r(13349);let g=(0,h.memo)(e=>{let{filterTags:t,setFilterTags:r,filterMenuDescription:g}=e,{files:x}=(0,h.useContext)(p.FilesContext),y=x.map(e=>"".concat(e["webpage-title"]," | ").concat(e["file-name"])),m=x.reduce((e,t)=>(e[t["webpage-title"]]={url:t.url,id:1},e),{}),j=x.reduce((e,t)=>(e[t.section]||(e[t.section]=t.section),e),{All:"All"});Object.keys(j).reduce((e,t)=>(e[t]={url:"",id:0},e),m);let v=new Set(y),w=[{group:"Categories",items:Object.keys(j)},{group:"Files",items:Array.from(v)}];return(0,i.jsx)(c.TagsInput,{withAsterisk:!0,description:g,leftSection:(0,i.jsx)(o.ActionIcon,{size:32,radius:"xl",color:f.theme.primaryColor,variant:"white",children:(0,i.jsx)(d.Z,{style:{width:(0,l.h)(18),height:(0,l.h)(18)},stroke:1.5})}),style:{minWidth:"450px",maxWidth:"450px"},placeholder:"Filter tags",data:w,onClear:()=>r([]),clearable:!0,onChange:r,value:t,renderOption:e=>{let{option:t}=e;return(0,i.jsx)(a.Group,{children:(0,i.jsxs)(s.Flex,{justify:"space-between",children:[(0,i.jsx)(n.Text,{children:t.value}),m[t.value.split("|")[0].trim()].url&&(0,i.jsx)(o.ActionIcon,{size:32,radius:"xl",color:f.theme.primaryColor,variant:"white",onClick:e=>{e.stopPropagation(),window.open(m[t.value.split("|")[0].trim()].url,"_blank","noreferrer")},children:(0,i.jsx)(u.Z,{style:{width:(0,l.h)(18),height:(0,l.h)(18)},stroke:1.5})})]})})}})});t.Z=g},96699:function(e,t,r){"use strict";var i=r(57437);r(2265);var a=r(32604),s=r(17480),n=r(75562);t.Z=e=>{let{message:t,color:r,icon:o}=e;return(0,i.jsx)(a.Box,{style:{maxWidth:"500px"},children:(0,i.jsx)(s.Blockquote,{color:r,iconSize:30,icon:o,mt:"sm",p:12,children:(0,i.jsx)(n.Text,{size:"xs",children:t})})})}},13349:function(e,t,r){"use strict";r.r(t),r.d(t,{FilesContext:function(){return n},FilesProviders:function(){return o}});var i=r(57437),a=r(2265),s=r(54744);let n=(0,a.createContext)({files:[],getFilterTagsType:()=>({categories:[],files:[]})}),o=e=>{let{children:t}=e,[r,o]=(0,a.useState)([]),l=r.reduce((e,t)=>(e[t["webpage-title"]]=t,e),{});return(0,a.useEffect)(()=>{try{(0,s.H)().then(e=>o(e.data))}catch(e){console.log(e),o([])}},[]),(0,i.jsx)(n.Provider,{value:{files:r,getFilterTagsType:e=>e.reduce((e,t)=>{let r=t.split("|")[0].trim();return r in l?e.files.push(l[r]["file-name"]):e.categories.push(r),e},{categories:[],files:[]})},children:t})}},39537:function(e,t,r){"use strict";r.r(t),r.d(t,{theme:function(){return i}});let i=(0,r(19905).j)({})},54744:function(e,t,r){"use strict";r.d(t,{H:function(){return s},WD:function(){return o},XW:function(){return n},ZO:function(){return a},gp:function(){return l},mv:function(){return c},p:function(){return u}});var i=r(2599);let a=async(e,t,r,a,s)=>{let n=a||r,o={data:{"search-terms":e,files:t.files,categories:t.categories,ai:n,section:r,prompt:s}},l=await fetch("/search",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json"}});if(!l.ok)throw Error((await l.json()).data);if(!n){let e=await l.blob();(0,i.saveAs)(e,"output.xlsx")}},s=async()=>{let e=await fetch("/data");if(!e.ok)throw Error("Failed to submit the data. Please try again.");return e.json()},n=async()=>{let e=await fetch("/update/info");if(!e.ok)throw Error("Failed to submit the data. Please try again.");return e.json()},o=async()=>{if(!(await fetch("/update")).ok)throw Error("Failed to submit the data. Please try again.")},l=async e=>{console.log(e);let t={data:{files:e.files,categories:e.categories}};console.log(t);let r=await fetch("/search/o3",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});if(!r.ok)throw Error((await r.json()).data)},c=async()=>{let e=await fetch("/search/info");if(!e.ok)throw Error("Unable to get search progress");return e.json()},u=async()=>{let e=await fetch("/data/o3");if(!e.ok)throw Error("Unable to get search progress");return e.json()}},29433:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i=(0,r(27677).Z)("outline","adjustments-horizontal","IconAdjustmentsHorizontal",[["path",{d:"M14 6m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-0"}],["path",{d:"M4 6l8 0",key:"svg-1"}],["path",{d:"M16 6l4 0",key:"svg-2"}],["path",{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-3"}],["path",{d:"M4 12l2 0",key:"svg-4"}],["path",{d:"M10 12l10 0",key:"svg-5"}],["path",{d:"M17 18m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-6"}],["path",{d:"M4 18l11 0",key:"svg-7"}],["path",{d:"M19 18l1 0",key:"svg-8"}]])},50744:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});/**
 * @license @tabler/icons-react v3.5.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i=(0,r(27677).Z)("outline","alert-triangle","IconAlertTriangle",[["path",{d:"M12 9v4",key:"svg-0"}],["path",{d:"M10.363 3.591l-8.106 13.534a1.914 1.914 0 0 0 1.636 2.871h16.214a1.914 1.914 0 0 0 1.636 -2.87l-8.106 -13.536a1.914 1.914 0 0 0 -3.274 0z",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]])}},function(e){e.O(0,[987,971,69,744],function(){return e(e.s=84462)}),_N_E=e.O()}]);